[
{"keyword": "Feature", "name": "Default", "tags": [], "location": "features/tests/register_and_send.feature:1", "status": "failed", "elements": [{"type": "scenario", "keyword": "Scenario Outline", "name": "To test the registerlistener and send apis -- @1.1 topic_names", "tags": [], "location": "features/tests/register_and_send.feature:30", "steps": [{"keyword": "Given", "step_type": "given", "name": "\u201cuE1\u201d creates uuri data to register a listener", "location": "features/tests/register_and_send.feature:3", "match": {"location": "features/steps/tck_step_implementations.py:37", "arguments": [{"value": "uE1", "name": "sdk_name"}]}, "result": {"status": "passed", "duration": 0.0005445480346679688}}, {"keyword": "And", "step_type": "given", "name": "sets uuri \"ue\" to \"java\"", "location": "features/tests/register_and_send.feature:4", "match": {"location": "features/steps/tck_step_implementations.py:44", "arguments": [{"value": "ue", "name": "key"}, {"value": "java", "name": "value"}]}, "result": {"status": "passed", "duration": 0.00047969818115234375}}, {"keyword": "And", "step_type": "given", "name": "sets uuri \"action\" to \"registerlistener\"", "location": "features/tests/register_and_send.feature:5", "match": {"location": "features/steps/tck_step_implementations.py:44", "arguments": [{"value": "action", "name": "key"}, {"value": "registerlistener", "name": "value"}]}, "result": {"status": "passed", "duration": 0.0004405975341796875}}, {"keyword": "And", "step_type": "given", "name": "sets uuri \"uri.entity.name\" to \"body.access\"", "location": "features/tests/register_and_send.feature:6", "match": {"location": "features/steps/tck_step_implementations.py:44", "arguments": [{"value": "uri.entity.name", "name": "key"}, {"value": "body.access", "name": "value"}]}, "result": {"status": "passed", "duration": 0.00019598007202148438}}, {"keyword": "And", "step_type": "given", "name": "sets uuri \"uri.resource.name\" to \"door\"", "location": "features/tests/register_and_send.feature:7", "match": {"location": "features/steps/tck_step_implementations.py:44", "arguments": [{"value": "uri.resource.name", "name": "key"}, {"value": "door", "name": "value"}]}, "result": {"status": "passed", "duration": 0.002670764923095703}}, {"keyword": "And", "step_type": "given", "name": "sets uuri \"uri.resource.instance\" to \"front_left\"", "location": "features/tests/register_and_send.feature:8", "match": {"location": "features/steps/tck_step_implementations.py:44", "arguments": [{"value": "uri.resource.instance", "name": "key"}, {"value": "front_left", "name": "value"}]}, "result": {"status": "passed", "duration": 0.0009360313415527344}}, {"keyword": "And", "step_type": "given", "name": "sets uuri \"uri.resource.message\" to \"Door\"", "location": "features/tests/register_and_send.feature:9", "match": {"location": "features/steps/tck_step_implementations.py:44", "arguments": [{"value": "uri.resource.message", "name": "key"}, {"value": "Door", "name": "value"}]}, "result": {"status": "passed", "duration": 0.0006656646728515625}}, {"keyword": "And", "step_type": "given", "name": "sends \"registerlistener\" request", "location": "features/tests/register_and_send.feature:10", "match": {"location": "features/steps/tck_step_implementations.py:51", "arguments": [{"value": "registerlistener", "name": "command"}]}, "result": {"status": "failed", "duration": 0.022420167922973633, "error_message": ["Traceback (most recent call last):", "  File \"/home/qz3f1z/.local/lib/python3.8/site-packages/behave/model.py\", line 1329, in run", "    match.run(runner.context)", "  File \"/home/qz3f1z/.local/lib/python3.8/site-packages/behave/matchers.py\", line 98, in run", "    self.func(context, *args, **kwargs)", "  File \"features/steps/tck_step_implementations.py\", line 60, in step_impl", "    context.tm.receive_action_request(context.register_json_array,listener)", "  File \"/home/qz3f1z/personal-workspace/uprotocol-tck/BDD/features/steps/test_manager/testmanager.py\", line 414, in receive_action_request", "    return self.register_listener_command(sdk_name, command, topic, listener)", "  File \"/home/qz3f1z/personal-workspace/uprotocol-tck/BDD/features/steps/test_manager/testmanager.py\", line 298, in register_listener_command", "    self.__send_to_test_agent(test_agent_socket, command, umsg)", "  File \"/home/qz3f1z/personal-workspace/uprotocol-tck/BDD/features/steps/test_manager/testmanager.py\", line 218, in __send_to_test_agent", "    send_socket_data(test_agent_socket, message)", "  File \"/home/qz3f1z/personal-workspace/uprotocol-tck/BDD/features/steps/up_client_socket_python/utils/socket_message_processing_utils.py\", line 18, in send_socket_data", "    s.send(msg + filler)", "BrokenPipeError: [Errno 32] Broken pipe", "", "Captured logging:", "INFO:formatted_log:Inside create register listener data", "INFO:formatted_log:RegisterListener json data: Key is ue value is java", "INFO:formatted_log:RegisterListener json data: Key is action value is registerlistener", "INFO:formatted_log:RegisterListener json data: Key is uri.entity.name value is body.access", "INFO:formatted_log:RegisterListener json data: Key is uri.resource.name value is door", "INFO:formatted_log:RegisterListener json data: Key is uri.resource.instance value is front_left", "INFO:formatted_log:RegisterListener json data: Key is uri.resource.message value is Door", "INFO:formatted_log:Register listener {'ue': ['java'], 'action': ['registerlistener'], 'uri.entity.name': ['body.access'], 'uri.resource.name': ['door'], 'uri.resource.instance': ['front_left'], 'uri.resource.message': ['Door']}"]}}, {"keyword": "When", "step_type": "when", "name": "\u201cuE2\u201d test agent creates send data", "location": "features/tests/register_and_send.feature:12"}, {"keyword": "And", "step_type": "when", "name": "sets \"ue\" to \"python\"", "location": "features/tests/register_and_send.feature:13"}, {"keyword": "And", "step_type": "when", "name": "sets \"action\" to \"send\"", "location": "features/tests/register_and_send.feature:14"}, {"keyword": "And", "step_type": "when", "name": "sets \"uri.entity.name\" to \"body.access\"", "location": "features/tests/register_and_send.feature:15"}, {"keyword": "And", "step_type": "when", "name": "sets \"uri.resource.name\" to \"door\"", "location": "features/tests/register_and_send.feature:16"}, {"keyword": "And", "step_type": "when", "name": "sets \"uri.resource.instance\" to \"front_left\"", "location": "features/tests/register_and_send.feature:17"}, {"keyword": "And", "step_type": "when", "name": "sets \"uri.resource.message\" to \"Door\"", "location": "features/tests/register_and_send.feature:18"}, {"keyword": "And", "step_type": "when", "name": "sets \"attributes.priority\" to \"UPRIORITY_CS1\"", "location": "features/tests/register_and_send.feature:19"}, {"keyword": "And", "step_type": "when", "name": "sets \"attributes.type\" to \"UMESSAGE_TYPE_PUBLISH\"", "location": "features/tests/register_and_send.feature:20"}, {"keyword": "And", "step_type": "when", "name": "sets \"attributes.id\" to \"long serialized uuid\"", "location": "features/tests/register_and_send.feature:21"}, {"keyword": "And", "step_type": "when", "name": "sets \"payload.format\" to \"UPAYLOAD_FORMAT_PROTOBUF\"", "location": "features/tests/register_and_send.feature:22"}, {"keyword": "And", "step_type": "when", "name": "sets \"payload.value\" to \"serialized protobuf data\"", "location": "features/tests/register_and_send.feature:23"}, {"keyword": "And", "step_type": "when", "name": "sends data", "location": "features/tests/register_and_send.feature:24"}, {"keyword": "Then", "step_type": "then", "name": "uE1 receives the payload", "location": "features/tests/register_and_send.feature:26"}], "status": "failed"}]}
]
